elementName: rtgl-form

viewDataSchema:
  type: object

propsSchema:
  type: object
  properties:
    defaultValues:
      type: object
      properties: {}
    form:
      type: object
      properties:
        title:
          type: string
        description:
          type: string

refs:
  action-*:
    eventListeners:
      click:
        handler: handleActionClick
  input-*:
    eventListeners:
      input-keydown:
        handler: handleInputChange

events: {}

template:
  - rtgl-view w=f h=f p=md g=lg ${containerAttrString}:
    - rtgl-view g=sm w=f:
      - rtgl-text s=lg: ${title}
      - rtgl-text c=mu-fg: ${description}
    - rtgl-view g=sm w=f:
      - $map: { $eval: fields }
        each(v,i):
          - rtgl-view g=sm w=f:
            - rtgl-text: ${v.label}
            - rtgl-text s=sm c=mu-fg: ${v.description}
            - $switch:
                v.inputType == "inputText":
                  rtgl-input#input-${v.id} w=f: 
    - rtgl-view g=sm w=f:
      - $map: { $eval: actions.buttons}
        each(v,i):
          - rtgl-view d=h ah=e g=sm w=f:
            - rtgl-button#action-${v.id}: ${v.content}
