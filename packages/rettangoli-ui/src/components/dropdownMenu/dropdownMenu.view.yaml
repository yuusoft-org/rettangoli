elementName: rtgl-dropdown-menu

viewDataSchema:
  type: object

propsSchema:
  type: object
  properties:
    items:
      type: array
      items:
        type: object
        properties:
          label:
            type: string
          type:
            type: string
            enum:
              - label
              - item
              - separator
    isOpen:
      type: boolean
    position:
      type: object
      properties:
        x:
          type: number
        y:
          type: number

refs:
  popover:
    eventListeners:
      click-overlay:
        handler: handleClickPopoverOverlay

events: {}

template:
  - rtgl-popover#popover .isOpen=isOpen .position=position:
    - rtgl-view wh=300 g=xs slot=content bgc=background br=md:
      - $for item, i in items:
        - $if item.type == 'label':
            - rtgl-view w=f ph=lg pv=md:
              - rtgl-text s=sm c=mu-fg: ${item.label}
          $elif item.type == 'item':
            - rtgl-view#option-${i} w=f h-bgc=ac ph=lg pv=md cur=p br=md bgc=mu:
              - rtgl-text: ${item.label}
          $elif item.type == 'separator':
            - rtgl-view w=f h=1 ph=lg mv=md bgc=bo:
            