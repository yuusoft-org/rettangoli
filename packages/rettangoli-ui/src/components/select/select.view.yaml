refs:
  selectButton:
    eventListeners:
      click:
        handler: handleButtonClick
  clearButton:
    eventListeners:
      click:
        handler: handleClearClick
  popover:
    eventListeners:
      close:
        handler: handleClickOptionsPopoverOverlay
  option*:
    eventListeners:
      click:
        handler: handleOptionClick
      mouseenter:
        handler: handleOptionMouseEnter
      mouseleave:
        handler: handleOptionMouseLeave
  optionAdd:
    eventListeners:
      click:
        handler: handleAddOptionClick
      mouseenter:
        handler: handleAddOptionMouseEnter
      mouseleave:
        handler: handleAddOptionMouseLeave
template:
  - rtgl-button#selectButton v=ol ${containerAttrString} ?disabled=${isDisabled} data-testid="select-button":
      - rtgl-view d=h av=c ah=s w=f:
          - rtgl-text w=1fg ta=l c=${selectedLabelColor} ellipsis: ${selectedLabel}
          - $if showClear:
              - rtgl-svg#clearButton ml=md svg=x wh=16 c=mu-fg cur=pointer data-testid="select-clear-button": null
          - rtgl-svg ml=md svg=chevronDown wh=16 c=mu-fg: null
  - rtgl-popover#popover ?open=${isOpen} x=${position.x} y=${position.y} place=rs:
      - rtgl-view wh=300 g=xs slot=content bgc=mu br=md sv=true:
          - $for option, i in options:
              - rtgl-view#option${i} w=f ph=lg pv=md cur=pointer br=md bgc=${option.bgc} data-testid=${option.testId}:
                  - rtgl-text: ${option.label}
          - $if showAddOption:
              - rtgl-view w=f bw=xs bc=mu bwt=sm: null
              - rtgl-view#optionAdd w=f ph=lg pv=md cur=pointer br=md bgc=${addOptionBgc} data-testid="select-add-option":
                  - rtgl-text c=ac: ${addOptionLabel}
