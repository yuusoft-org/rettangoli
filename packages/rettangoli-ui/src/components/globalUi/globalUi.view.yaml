elementName: rtgl-global-ui

viewDataSchema:
  type: object
  properties:
    isOpen:
      type: boolean
    uiType:
      type: string
    config:
      type: object
      properties:
        status:
          type: string
        title:
          type: string
        message:
          type: string
        confirmText:
          type: string
        cancelText:
          type: string
        mode:
          type: string
    dropdownConfig:
      type: object
      properties:
        items:
          type: array
        x:
          type: number
        y:
          type: number
        placement:
          type: string

refs:
  dialog:
    eventListeners:
      close:
        handler: handleDialogClose
  confirm-button:
    eventListeners:
      click:
        handler: handleConfirm
  cancel-button:
    eventListeners:
      click:
        handler: handleCancel
  dropdown-popover:
    eventListeners:
      close:
        handler: handleDropdownClose
  dropdown-option-*:
    eventListeners:
      click:
        handler: handleDropdownItemClick

template:
  - rtgl-dialog#dialog ?open=${isDialogOpen} s=sm:
      - rtgl-view slot=content g=lg p=lg:
          - rtgl-view d=h g=md:
              - rtgl-view d=h ah=c av=c g=md:
              - rtgl-view g=md:
                  - rtgl-view h=24 av=c:
                      - rtgl-text fw=600: ${config.title}
                  - rtgl-text: ${config.message}
          - rtgl-view d=h g=md mt=lg w=f ah=e:
              - $if config.mode == 'confirm':
                  - rtgl-button#cancel-button v=se: ${config.cancelText}
              - rtgl-button#confirm-button v=pr: ${config.confirmText}
  - rtgl-popover#dropdown-popover ?open=${isDropdownOpen} x=${dropdownConfig.x} y=${dropdownConfig.y} placement=${dropdownConfig.placement}:
      - rtgl-view wh=300 g=xs slot=content bgc=background br=md:
          - $for item, i in dropdownConfig.items:
              - $if item.type == 'label':
                  - rtgl-view w=f ph=lg pv=md:
                      - rtgl-text s=sm c=mu-fg: ${item.label}
                $elif item.type == 'item':
                  - rtgl-view#dropdown-option-${i} w=f h-bgc=ac ph=lg pv=md cur=p br=md bgc=mu:
                      - rtgl-text: ${item.label}
                $elif item.type == 'separator':
                  - rtgl-view w=f h=1 ph=lg mv=md bgc=bo:
