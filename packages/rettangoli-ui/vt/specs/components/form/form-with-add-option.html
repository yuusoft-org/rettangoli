---
title: Form with Select Add Option
---
<rtgl-view id="container" g="lg" p="lg" wh="f" fw="wrap">
</rtgl-view>

<script>
  const form = document.createElement('rtgl-form');
  form.setAttribute('id', 'form-with-add')
  form.setAttribute('w', '400')
  
  form.form = {
    title: 'Product Configuration',
    description: 'Configure your product with the option to add custom values',
    fields: [
      {
        name: 'productName',
        label: 'Product Name',
        description: 'Enter the product name',
        inputType: 'input-text',
        placeholder: 'e.g., Widget Pro',
      },
      {
        name: 'category',
        label: 'Category',
        description: 'Select a category or add a new one',
        inputType: 'select',
        placeholder: 'Choose a category',
        options: [
          { value: 'electronics', label: 'Electronics' },
          { value: 'clothing', label: 'Clothing' },
          { value: 'food', label: 'Food & Beverages' },
          { value: 'books', label: 'Books' }
        ],
        addOption: { label: 'Add new category' },
      },
      {
        name: 'size',
        label: 'Size',
        description: 'Select size (no add option)',
        inputType: 'select',
        placeholder: 'Choose size',
        options: [
          { value: 'small', label: 'Small' },
          { value: 'medium', label: 'Medium' },
          { value: 'large', label: 'Large' },
          { value: 'xl', label: 'Extra Large' }
        ],
        noClear: true,
      },
      {
        name: 'tags',
        label: 'Tags',
        description: 'Select tags or create custom ones',
        inputType: 'select',
        placeholder: 'Select a tag',
        options: [
          { value: 'featured', label: 'Featured' },
          { value: 'sale', label: 'On Sale' },
          { value: 'new', label: 'New Arrival' },
          { value: 'bestseller', label: 'Best Seller' }
        ],
        addOption: { label: 'Create custom tag' },
      }
    ],
    actions: {
      buttons: [
        { id: 'save', content: 'Save Configuration' },
        { id: 'reset', content: 'Reset Form' }
      ]
    }
  };

  // form.setAttribute('key', 'newkey');
  // form.render();

  // Listen for form events
  form.addEventListener('form-change', (e) => {
    console.log('form-change', e.detail);
  });

  form.addEventListener('action-click', (e) => {
    console.log('action-click', e.detail);
    if (e.detail.actionId === 'select-options-add') {
      console.log('Add option selected for field:', e.detail.name);
    }
  });

  const container = document.getElementById('container')
  container.appendChild(form);
</script>
