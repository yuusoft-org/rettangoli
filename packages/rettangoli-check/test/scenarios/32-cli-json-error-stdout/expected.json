{
  "name": "cli json format reports failing result on stdout",
  "mode": "cli",
  "options": {
    "args": ["--format", "json"]
  },
  "expected": {
    "exitCode": 1,
    "stderr": "",
    "stdoutJson": {
      "ok": false,
      "warnAsError": false,
      "summary": {
        "bySeverity": {
          "error": 1,
          "warn": 0
        }
      },
      "diagnostics": [
        {
          "code": "RTGL-CONTRACT-001",
          "severity": "error"
        }
      ]
    }
  }
}
